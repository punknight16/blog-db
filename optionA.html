<html>
	<head>
		<link rel="icon" 
      type="image/png" 
      href="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2:49307e47-8c31-4628-a607-a7eb852d50ae/images/a_logo.png">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//www.w3schools.com/w3css/4/w3.css%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//fonts.googleapis.com/css%3Ffamily%3DOswald%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//fonts.googleapis.com/css%3Ffamily%3DOpen%20Sans%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//www.w3schools.com/w3css/4/w3.css%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//fonts.googleapis.com/css%3Ffamily%3DOswald%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//fonts.googleapis.com/css%3Ffamily%3DOpen%20Sans%27%29%3B">
		<link rel="stylesheet" type="text/css" href="data:text/css,@import%20url%28%27https%3A//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css%27%29%3B">
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44077230-3"></script>
		

		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-44077230-3');
		</script>
		<script data-ad-client="ca-pub-5266033388618516" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<script src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/build/amazon-cognito-identity.min.js"></script>
		<script src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/build/aws-sdk.min.js"></script>
		<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/build/jquery-3.4.1.min.js' type='text/javascript'></script>
		<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/build/load-image.all.min.js' type='text/javascript'></script>
		<style>

			
h1,h2,h3,h4,h5,h6 {font-family: "Oswald"}
body {font-family: "Open Sans"}

h1,h2,h3,h4,h5,h6 {font-family: "Oswald"}
body {font-family: "Open Sans"}

footer ul{
	list-style-type:none;
}
		/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 4; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content/Box */
.modal-content {
  margin: 8% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: fit-content; /* Could be more or less, depending on screen size */
  background-color: white;
}
#modal-body {
  margin-top: 20px;
}

/* The Close Button */
.close {
  margin-top: -20px;
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
.center-modal {
  display: flex; 
  flex-direction: column; 
  align-items: center;
  justify-content: space-between;
}
		.login-container {
			position: absolute;
			right: 20px;
			top: 38px;
			border-left: 1px solid gray;
			border-bottom: 1px solid gray;
			border-right: 1px solid gray;
			width: fit-content;
			padding-top: 20px;
			padding-bottom: 20px;
		}
		.register-container {
			/*border: 1px solid gray;*/
			width: 300px;		
		}
		.form-container {
			display: flex;
			flex-direction: column;
				
			padding-left: 20px;
			padding-right: 20px;
			background-color: white;
		}
		.username-input{
			margin-top: 10px;
			margin-bottom: 4px;
			border: none;
			border-bottom: 1px solid gray;
		}
		.password-input{
			margin-top: 2px;
			margin-bottom: 10px;
			border: none;
			border-bottom: 1px solid gray;
		}
		.email-input {
			margin: 10px 0 10px 0;
			border: none;
			border-bottom: 1px solid gray;
		}
		/*Image Uploader*/
		.height-width-300 {
  height: 300px;
  width: 300px;
}
.height-width-100-percent {
  height: 100%;
  width: 100%;
}
.height-300 {
  height: 300px;
}
.width-300 {
  width: 300px;
}

.border {
	border: 1px solid #CCCCCC;
}

.mt-5 {
	margin-top: 5px;
}
		</style>
	</head>
	<body>
		<main id='main'>
			<section class="w3-bar w3-black w3-hide-small">
				<a href="https://www.facebook.com/punknight" class="w3-bar-item w3-button"><i class="fa fa-facebook-official"></i></a>
				<a href="https://www.instagram.com/punknight16/" class="w3-bar-item w3-button"><i class="fa fa-instagram"></i></a>
				<a href="https://www.pinterest.com/punknight16/" class="w3-bar-item w3-button"><i class="fa fa-pinterest">&nbsp;</i></a>
				<a href="https://twitter.com/punknight16" class="w3-bar-item w3-button"><i class="fa fa-twitter"></i></a>
				<a href="https://www.linkedin.com/in/daniel-miller-713aa459/" class="w3-bar-item w3-button"><i class="fa fa-linkedin"></i></a>
				<button id="hideBtn" class="w3-bar-item w3-button w3-right">Login &#9660;</button>
				<button id="signUpBtn" class="w3-bar-item w3-button w3-right">Signup</button>
</section><section class="w3-content" style="max-width:1600px">

  <header class="w3-container w3-center w3-padding-48 w3-white"><h1 class="w3-xxxlarge"><b>Art of Adulting</b></h1><h6>Welcome to the blog of <span class="w3-tag">Where I learn how to adult</span></h6></header>

  <header class="w3-display-container w3-wide"><img class="w3-image" src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/dmiller-banner.jpg" alt="Fashion Blog" width="1600" height="1060"><div class="w3-display-left w3-padding-large"><h1 class="w3-text-white">Daniel's</h1><h1 class="w3-jumbo w3-text-white w3-hide-small"><b>Art of Adulting</b></h1><h6><button class="w3-button w3-white w3-padding-large w3-large w3-opacity w3-hover-opacity-off" onclick="document.getElementById('subscribe').style.display='block'">SUBSCRIBE</button></h6></div></header>

  <div class="w3-row w3-padding w3-border">
  	<button type="button" class="w3-button w3-block w3-black" onclick="loadMoreArticles()">Load More Articles</button>
    <div id="articles_here" class="w3-col l8 s12"><!--left column starts here-->
    	<div id="article-data-all" style="display: none;">
			{{#Article}}
				<div class="article-data" data-articleid="{{PublishDate}}">
  			{{ArticleContent}}
  			</div>
			{{/Article}}
		</div>
		<div id="like-data-all" style="display: none;">
			{{#Like}}
				<div class="like-data" data-articleid="{{PublishDate}}">
					Like
				</div>
			{{/Like}}
		</div>
		<div id="reply-data-all" style="display: none;">
			{{#Reply}}
				<div class="reply-data" data-articleid="{{PublishDate}}">
					{{ReplyContent}}
				</div>
			{{/Reply}}
		</div>
  </div><!--left column ends here-->

  <div class="w3-col l4"><undefined></undefined><div class="w3-white w3-margin"><img src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/dmiller_headshot.jpg" alt="Jane" style="width:100%" class="w3-grayscale"><div class="w3-container w3-black"><h4>Daniel Miller</h4><p>Hi, I'm a writer, software developer, material science engineer, and inactive patent attorney. I like finding unique perspectives on how the world works and building applications.&nbsp;</p><p><br></p></div></div><hr>

      <undefined></undefined><div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Popular Posts</h4></div><ul class="w3-ul w3-hoverable w3-white"><li class="w3-padding-16"><img src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/computer.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px"><span class="w3-large">Dealing with Fear</span><br><span>The fear of failure</span></li><li class="w3-padding-16"><img src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/tools.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px"><span style="font-size: 18px;">Getting Momentum</span><br>and winning the day</li><li class="w3-padding-16"><img src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/tofu_fried_rice.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px"><span class="w3-large">Nutrition Daily</span><br>macros in the zone diet</li><li class="w3-padding-16"><img src="https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/images/steak.jpg" alt="Image" class="w3-left w3-margin-right w3-sepia" style="width:50px"><span class="w3-large">Learning Wines</span><br>Malbecs and Merlots</li></ul></div><hr>

      <undefined></undefined><div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Advertise</h4></div><div class="w3-container w3-white"><div class="w3-container w3-display-container w3-light-grey w3-section" style="height:200px"><span class="w3-display-middle">Checkout UNWYRE.IO</span></div></div></div><hr>

      <undefined></undefined><div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Tags</h4></div><div class="w3-container w3-white"><p style="text-align: center;"><font color="#ffffff"><span style="background-color: rgb(0, 0, 0);">Motivation</span></font>&nbsp;<span style="font-size: 12px; background-color: rgb(241, 241, 241);">Chess</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Solopreneur</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Nutrition</span>&nbsp;<span style="font-size: 12px; background-color: rgb(241, 241, 241);">Philosophy</span>&nbsp;<span style="font-size: 12px; background-color: rgb(241, 241, 241);">IP Law</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Fishing</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Cooking</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Fitness</span>&nbsp;<span class="w3-tag w3-light-grey w3-small w3-margin-bottom">Budgeting</span></p></div></div><hr>

      <undefined></undefined><div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Inspiration</h4></div><div class="w3-row-padding w3-white"><div class="w3-col s6"><p>Tim Ferris</p><p>Shaka Senghor</p></div><div class="w3-col s6"><p>Bill Gates</p><p>Barak Obama</p></div></div></div><hr>

      <div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Follow Me</h4></div><div class="w3-container w3-xlarge w3-padding"><i class="fa fa-facebook-official w3-hover-opacity">&nbsp;</i><i class="fa fa-instagram w3-hover-opacity">&nbsp;</i><i class="fa fa-snapchat w3-hover-opacity">&nbsp;</i><i class="fa fa-pinterest-p w3-hover-opacity">&nbsp;</i><i class="fa fa-twitter w3-hover-opacity">&nbsp;</i><i class="fa fa-linkedin w3-hover-opacity">&nbsp;</i></div></div><hr><undefined></undefined><div class="w3-white w3-margin"><div class="w3-container w3-padding w3-black"><h4>Subscribe</h4></div><div class="w3-container w3-white"><p>Enter your e-mail below and get notified on the latest blog posts.</p><p><input id="email1" class="w3-input w3-border" type="text" placeholder="Enter e-mail" style="width:100%"></p><p><button type="button" class="w3-button w3-block w3-red" onclick="doSubscribe()">Subscribe</button></p></div></div>

    <undefined></undefined></div>

  <undefined></undefined></div>

<undefined></undefined>
</section><section class="w3-modal w3-animate-opacity" id="subscribe"><div class="w3-modal-content" style="padding:32px"><div class="w3-container w3-white"><i onclick="document.getElementById('subscribe').style.display='none'" class="fa fa-remove w3-transparent w3-button w3-xlarge w3-right"></i><h2 class="w3-wide">SUBSCRIBE</h2><p>Join my mailing list to receive updates on the latest blog posts and other things.</p><p><input id="email2" class="w3-input w3-border" type="text" placeholder="Enter e-mail"></p><button type="button" class="w3-button w3-block w3-padding-large w3-red w3-margin-bottom" onclick="doSubscribe()">Subscribe</button></div></div>
</section>
<footer class="w3-container w3-dark-grey" style="padding:32px">
<nav>
			<ul style="display:flex; justify-content:center;">
				<li><button  id="goSignUp" class="w3-bar-item w3-button">Register</button></li>
				<li><button  id="goVerify" class="w3-bar-item w3-button">Verify Email</button></li>
				<li><button  id="goProfile" class="w3-bar-item w3-button">Profile Photo</button></li>
				<li><button  id="goForgot" class="w3-bar-item w3-button">Forgot Password</button></li>
			</ul>
		</nav>
</footer>

<form id="loginContainer" class="login-container form-container" style="flex-basis: fit-content; display: none;">
		<label>Login:</label>
		<input id="loginEmailInput" class="username-input" type="text" placeholder="email" />
		<input id="loginPasswordInput" class="password-input" type="password" placeholder="password" />
		<input id="loginButton" class="login-submit" type="submit" value="Login Now" />
		<div id='loginErrorPanel' class='hide' 
			style='text-align: center; margin-top: 4px'>
			<small><span class='text-error'>*</span>Please use a valid <br />email and  password</small>
		</div>
	</form>

	<div id="registerContainer" class="modal no-robot">
	  <!-- Modal content -->
	  <div class="modal-content">
	    <span class="close">&times;</span>
	    <form id="registerForm" class="form-container register-container">
					<h3>Sign Up Today</h3>
					<input id="registerEmailInput" class="register-input email-input" type="email" placeholder="Enter email..." />
					<input id="registerPasswordInput" class="register-input password-input" type="password" placeholder="Enter password..." />
					<input id="registerButton" class="register-submit" type="submit" value="Next" />
					<div id='registerErrorPanel' class='hide' 
						style='text-align: center; margin-top: 8px; line-height: 1em;'>
						<small><span class='text-error'>*</span>Please use a valid email and a strong password with special characters.</small>
					</div>
					<!--<button id="loginBtn" class="link link-underline" style="margin-top: 10px;">Or Login</button>-->
				</form>
	  	</div>
	  </div>
	</div>

	<div id="verifyContainer" class="modal no-robot">
	  <!-- Modal content -->
	  <div class="modal-content">
	    <span class="close">&times;</span>
	    <form id="confirmForm" class="form-container register-container" style="margin-top: -26px;">
					<h3>Verify Email:</h3>
					<!--<input class="register-input username-input" type="text" placeholder="username" />-->
					<input id="confirmEmailInput" class="register-input email-input" type="email" placeholder="Enter email..." />
					<input id="confirmCodeInput" class="register-input password-input" type="password" placeholder="Enter confirmation code..." />
					<input id="ConfirmButton" class="register-submit" type="submit" value="Next" />
					<div id='ConfirmErrorPanel' class='hide' 
						style='text-align: center; margin-top: 8px; line-height: 1em;'>
						<small><span class='text-error'>*</span>Please use a valid email and confirmation code.</small>
					</div>
					<!--<button id="loginBtn" class="link link-underline" style="margin-top: 10px;">Or Login</button>-->
				</form>
	  	</div>
	  </div>
	
	  <div id="profileContainer" class="modal no-robot">
		  <!-- Modal content -->
		  <div class="modal-content">
		    <span class="close">&times;</span>
		    <div id='modal-body'>
		    	<h3>Create Profile</h3>
		    	<div style="display: block-inline; margin-bottom: 10px">
		    		<label>Full Name
		    		<input type='text' id="fullnameInp" size="26" />
		    	</div>
		    	<input type='file' id="imgInp" class="width-300" />
				  	<div id='view-panel' class='height-width-300 border mt-5'>
				    	<div id='image-layer' class='layer-0' style="display:flex; justify-content:center; align-items:center;">
				    		<img id="image" src="#" alt="your image"  class='height-width-300'/>
				    	</div>
				    </div>
				    <div style="margin-top: 10px; display: flex; justify-content: space-around">
				  		<button id="uploadImgBtn" class="btn-dem btn-dem-primary">Upload</button>
				  		<button id="cancelImgBtn" class="btn-dem btn-dem-secondary">Clear</button>
				  	</div>
		    </div>
		  </div>
		</div>

		<div id="replyContainer" class="modal no-robot">
		  <!-- Modal content -->
		  <div class="modal-content">
		    <span class="close">&times;</span>
		    <div id='modal-body'>
		    	<h3>Reply To Article</h3>
			  	<div id='replyInp' class='height-width-300 border mt-5' contenteditable>
			    <input id='articleId' type='hidden'>

			    </div>
				    <div style="margin-top: 10px; display: flex; justify-content: space-around">
				  		<button id="uploadReplyBtn" class="btn-dem btn-dem-primary" onclick="uploadReply()">Upload</button>
				  		<button id="cancelReplyBtn" class="btn-dem btn-dem-secondary" onclick="cancelReply()">Clear</button>
				  	</div>
		    </div>
		  </div>
		</div>

		</main>
		<script>
		var s3 = null;
		var AppContext = {LastEvalVal: null};
		//pull blog from DB//
		/*
		fetch('https://jaegnvmctc.execute-api.us-west-2.amazonaws.com/prod/list', {
		  method: 'POST', // or 'PUT'
		  body: JSON.stringify({
		  	UserId: "us-west-2:49307e47-8c31-4628-a607-a7eb852d50ae",
		  	//LastEvalVal: "2020-03-20T23:45:34.555Z"
		  }),
		})

		  .then((response) => {
		    return response.json();
		  })
		  .then((data) => {
		  	var body = data.Items.reduce(function(res, el, index){
		  		var article = el.ArticleContent+'<hr />';
		  		if(index == (data.Items.length-1)){
		  			AppContext.LastEvalVal = el.PublishDate;
		  		}
		  		return res+= article;
		  	}, "");
		    console.log(data);
		    var section1 = document.getElementById('section1');
		    section1.innerHTML = body;
		  });
	*/
	function loadMoreArticles(){
    // you're at the bottom of the page
    fetch('https://jaegnvmctc.execute-api.us-west-2.amazonaws.com/prod/list', {
	  method: 'POST', // or 'PUT'
	  body: JSON.stringify({
	  	UserId: "us-west-2:49307e47-8c31-4628-a607-a7eb852d50ae",
	  	LastEvalVal: AppContext.LastEvalVal
	  }),
	})

	  .then((response) => {
	    return response.json();
	  })
	  .then((data) => {
	  	var child;
	  	var body = data.Items.reduce(function(res, el, index){
	  		var article = el.ArticleContent+'<hr />';
	  		if(index == (data.Items.length-1)){
	  			AppContext.LastEvalVal = el.PublishDate;
	  		}
	  		return res+= article;
	  	}, "");
	    console.log(data);
	    var section1 = document.getElementById('section1');
	    child1 = section1.lastChild;
	    var rect = child1.getBoundingClientRect();
			console.log(rect.top, rect.right, rect.bottom, rect.left);
	    section1.innerHTML += body;
	    console.log(child1.innerHTML);
	   	window.scrollTo({
			  top: rect.bottom+300,
			  left: 0,
			  behavior: 'smooth'
			});
	  });
		
	};
	//subscription AJAX
	function doSubscribe(){

		var EmailAddr = document.getElementById('email1').value || document.getElementById('email2').value
		var DomainName = window.location.hostname;
		console.log("EmailAddr: ", EmailAddr);
		console.log("DomainName: ", DomainName);
		document.getElementById('subscribe').style.display='none';
		fetch('https://1in41nwol5.execute-api.us-west-2.amazonaws.com/prod/add', {
		  method: 'POST', // or 'PUT'
		  body: JSON.stringify({
		  	EmailAddr: EmailAddr,
		  	DomainName: DomainName
		  }),
		})
		  .then((response) => {
		    return response.json();
		  })
		  .then((data) => {
		  	alert(`You are now a Subscriber: ${JSON.stringify(data)}`);
		  });
	}
	//LOGIN CONTAINER//
	document.getElementById("hideBtn").addEventListener("click", toggleLogin);
	document.getElementById("signUpBtn").addEventListener("click", toggleRegister);
function toggleLogin(e){
	e.preventDefault();
	if(document.getElementById("loginContainer").style.display == "none"){
		document.getElementById("loginContainer").style.display = "flex"
	} else {
		document.getElementById("loginContainer").style.display = "none"
	}
}
function toggleRegister(e){
	e.preventDefault();
	if(document.getElementById("registerContainer").style.display == "none"){
		document.getElementById("registerContainer").style.display = "block"
	} else {
		document.getElementById("registerContainer").style.display = "none"
	}
}
	</script>

	<script>

		function combineAll(content, likes, replies, reply_content, id){
			var control_literal = `<div class="w3-justify"><br><p class="w3-left"><button class="w3-button w3-white w3-border" onclick="uploadLike('${id}')"><b><i class="fa fa-thumbs-up"></i> Like &nbsp;</b><span class="w3-tag w3-white w3-border">${likes}</span></button></p><p class="w3-right"><button class="w3-button w3-black" onclick="openReplyContainer('${id}')"><b>Replies &nbsp;</b> <span class="w3-tag w3-white">${replies}</span></button></p><p class="w3-clear"></p></div>`
			var content_literal = `<div class="w3-container w3-white w3-margin w3-padding-large"><div class="w3-center">${content} ${control_literal} ${reply_content}</div></div>`;
			return content_literal;
		}
		function htmlDecode(input){
		  var e = document.createElement('div');
		  e.innerHTML = input;
		  // handle case of empty input
		  return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
		}

		var article_arr = document.querySelectorAll(".article-data");
		var div_arr = [...article_arr].map((el, index)=>{
			var content = htmlDecode(el.innerHTML);
			return {id: el.dataset.articleid, content: content, like_num: 0, reply_num: 0, reply_content: ""}
		})
		console.log('here A');
		var like_arr = document.querySelectorAll(".like-data");
		[...like_arr].map((el, index)=>{
			console.log("like iso_string: ", el.dataset.articleid.substring(0, 24));
			var found_index = div_arr.findIndex((obj)=>{return obj.id == el.dataset.articleid.substring(0, 24)})
			if(found_index > -1){
				div_arr[found_index].like_num++;
			}
		})
		console.log("here B")
		var reply_arr = document.querySelectorAll(".reply-data");
		[...reply_arr].map((el, index)=>{
			console.log("reply iso_string: ", el.dataset.articleid.substring(0, 24));
			var found_index = div_arr.findIndex((obj)=>{return obj.id == el.dataset.articleid.substring(0, 24)})
			if(found_index > -1){
				div_arr[found_index].reply_num++;
				div_arr[found_index].reply_content+= htmlDecode(el.innerHTML)

			}
		})
		
		var body = div_arr.reduce(function(res, el){
		  return res+= combineAll(el.content, el.like_num, el.reply_num, el.reply_content, el.id);
		}, "");

		var articles_here = document.getElementById("articles_here");
		articles_here.innerHTML = body;
		

		
	</script>
	<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/js/modal-ui.js' type='text/javascript'></script>
	<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/js/cognito.js' type='text/javascript'></script>

	<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/js/entry-ui.js' type='text/javascript'></script>
	<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/js/image-ui.js' type="text/javascript"></script>
	<script src='https://unwyre-user.s3-us-west-2.amazonaws.com/user/us-west-2%3A49307e47-8c31-4628-a607-a7eb852d50ae/js/control-ui.js'></script>
	<script>
		$(function(){
			doRefresh(function(err, cognitoUser){
				if(err) {
					console.log('you are not logged in');
				} else {
			    
					cognitoUser.getUserAttributes(function(err, result) {
			  		console.log('result: ', result);
			      console.log('err: ', err);
			      AppContext.sub = result[0].getValue();
			      AppContext.emailAddr = result[result.length-1].getValue();

			    s3 = new AWS.S3({
					    "region": "us-west-2"
					  });
					});	
				}
			});
		});
	</script>
	</body>
</html>